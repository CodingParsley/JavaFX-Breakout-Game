package gameComponents;

import application.Levels;
import application.TheController;
import application.TheController.MovePaddleLeft;
import application.TheController.MovePaddleRight;
import javafx.animation.Animation;
import javafx.animation.KeyFrame;
import javafx.animation.Timeline;
import javafx.application.Application;
import javafx.scene.layout.Pane;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.stage.Stage;
import javafx.util.Duration;

public class StartScreenView extends Application{

	@Override
	public void start(Stage primaryStage) throws Exception {
		Pane layout = new Pane();
		Button b = new Button("Play");
		b.setTranslateX(50);
		b.setTranslateY(50);
		b.setOnAction(e->{
			System.out.println("Hey");
		});
		layout.getChildren().add(b);
		primaryStage.setScene(new Scene(layout,TheController.getBoardWidth(),TheController.getBoardHeight()));
		primaryStage.show();
	}
	public void goToPlayScreen() {
		Levels theModel = new Levels();
		Runnable onPaddleLeft = new MovePaddleLeft(theModel);
		Runnable onPaddleRight = new MovePaddleRight(theModel);
		GameBoardView theView = new GameBoardView(onPaddleLeft, onPaddleRight);
		try {
			theView.start(window);
		} catch (Exception e) {
			e.printStackTrace();
		}
		Timeline timeline = new Timeline(new KeyFrame(Duration.millis(6), ae -> updateScreen(theView, theModel)));
		timeline.setCycleCount(Animation.INDEFINITE);
		timeline.play();
		window.setOnCloseRequest(e -> {
			Runtime.getRuntime().exit(0);
		});
		window.show();
	}

}
