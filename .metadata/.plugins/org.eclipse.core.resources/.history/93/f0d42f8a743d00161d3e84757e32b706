package application;

import java.util.Random;

public class Ball extends Rectangle {
	private double speed;
	public double getSpeed() {
		return speed;
	}

	private double angleOfMovement;

	//For creating a brand new ball
	public Ball(Coordinate topLeft, double width, double height, double speed, double angleOfMovement) {
		super(topLeft, width, height);
		this.speed = speed;
		this.angleOfMovement = angleOfMovement;
	}
	private Ball(Coordinate topLeft, double width, double height, double speed, double angleOfMovement, int id) {
		super(topLeft, width, height,id);
		this.speed = speed;
		this.angleOfMovement = angleOfMovement;
	}

	public Ball getMove() {
		return new Ball(this.getTopLeftCoordinate().getMoveVelocity(angleOfMovement, speed), this.getWidth(), this.getHeight(),
		speed, angleOfMovement,this.getId());
	}
	public Ball flipXDirection() {
		double cos = Math.cos(angleOfMovement);
		double sin = Math.sin(angleOfMovement);
		double newAngle = Math.atan2(sin, -cos);
		return new Ball(this.getTopLeftCoordinate(), this.getWidth(), this.getHeight(), this.speed, newAngle+addRandomVariation(10), this.getId());
	}

	public Ball flipYDirection() {
		double cos = Math.cos(angleOfMovement);
		double sin = Math.sin(angleOfMovement);
		double newAngle = Math.atan2(-sin, cos);
		return new Ball(this.getTopLeftCoordinate(), this.getWidth(), this.getHeight(), this.speed, newAngle+addRandomVariation(10), this.getId());
	}
	public double addRandomVariation(double rangeInDegrees){
		return (Math.random()*Math.toRadians(rangeInDegrees))-Math.toRadians(rangeInDegrees)/2;
	}


}
